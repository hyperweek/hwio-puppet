VENV_PATH=<%= venv %>
PROJECT_PATH=<%= src %>
LOG_PATH=<%= src %>/log

# minutely
* * * * * <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py process_search_queue >> $LOG_PATH/process_search_queue.log 2>&1
*/5 * * * * <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py send_mail >> $LOG_PATH/send_mail.log 2>&1
2,22,42 * * * * <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py retry_deferred >> $LOG_PATH/retry_deferred.log 2>&1

# hourly
@hourly <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py update_feeds --age=1 -k 2 -v 0 >> $LOG_PATH/update_feeds.log 2>&1

# daily
@daily <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py clean_user 4320 >> $LOG_PATH/clean_user.log 2>&1
@daily <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py cleanup >> $LOG_PATH/cleanup.log 2>&1
0 6 * * * <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py send_mail_digest --frequency=2 >> $LOG_PATH/send_mail_digest.log 2>&1

# weekly
10 6 * * 1 <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py send_mail_digest --frequency=3 >> $LOG_PATH/send_mail_digest.log 2>&1
20 6 1,15 * * <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py send_mail_digest --frequency=4 >> $LOG_PATH/send_mail_digest.log 2>&1

# monthly
30 6 1 * * <%= cron_user %> cd $PROJECT_PATH && $VENV_PATH/bin/python manage.py send_mail_digest --frequency=5 >> $LOG_PATH/send_mail_digest.log 2>&1
